{% extends 'TritoqTpanelBundle::layout.html.twig' %}

{% block body -%}
    {{ parent() }}
    <h1>Lista de Vhosts</h1>

    <div ng-controller="Vhosts">
        <div class="commands">
            <a class="btn btn-primary" href="{{ path('vhost_new') }}">
                Novo Vhost
            </a>
        </div>

        <input ng-model="searchText" class="form-control" placeholder="Buscar">

        <table class="records_list table table-striped">
            <thead>
            <tr>
                <th>
                    <a href="" ng-click="predicate = 'id'; reverse=!reverse">Id</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'user'; reverse=!reverse">Usuário</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'password'; reverse=!reverse">Senha</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'domain'; reverse=!reverse">Domínio</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'ip'; reverse=!reverse">IP</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'adminEmail'; reverse=!reverse">E-mail do Admin</a>
                </th>
                <th>
                    <a href="" ng-click="predicate = 'dateCreated'; reverse=!reverse">Data de criação</a>
                </th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="entity in vhosts | orderBy:predicate:reverse | filter:searchText">
                <td><a href="{{ path('vhost_show', { 'id': '[[ entity.id ]]' }) | url_decode }}">[[ entity.id ]]</a>
                </td>
                <td>[[ entity.user ]]</td>
                <td>[[ entity.password ]]</td>
                <td>[[ entity.domain ]]</td>
                <td>[[ entity.ip ]]</td>
                <td>[[ entity.adminEmail ]]</td>
                <td>[[ entity.dateCreated | datetime ]]</td>
                <td>
                    <ul>
                        <li>
                            <a class="btn btn-info btn-sm"
                               href="{{ path('vhost_show', { 'id': '[[ entity.id ]]' }) | url_decode }}">visualizar</a>
                        </li>
                        <li>
                            <a class="btn btn-warning btn-sm"
                               href="{{ path('vhost_edit', { 'id': '[[ entity.id ]]' }) | url_decode }}">editar</a>
                        </li>
                    </ul>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
{% endblock %}
